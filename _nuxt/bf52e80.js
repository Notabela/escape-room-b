(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{276:function(t){t.exports=JSON.parse('{"questions":[{"title":"Test 1","name":"a","url":"https://picsum.photos/200/300","description":"This is the question description","answer":"25","clue":"J"},{"title":"Test 2","name":"b","url":"https://picsum.photos/200/300","description":"This is the 2nd question description","answer":"28","clue":"K"}]}')},277:function(t,n,e){"use strict";e.r(n);e(38),e(22);var o,l,r=e(9),c=e(276),d=r.default.extend({data:function(){return{formValues:{},questions:c.questions,index:0,countdown:null,penaltyCounts:{},beginTime:null,penaltyTime:null,penaltyDisplay:null}},computed:{question:function(){return this.questions[this.index]},timerActive:function(){return!!this.penaltyDisplay&&this.penaltyDisplay>0},countdownActive:function(){return!!this.countdown&&this.countdown>0}},mounted:function(){this.$nextTick((function(){var t=localStorage.getItem("beginTime");"number"==typeof t&&(this.beginTime=t,this.beginGlobalCountdown())}))},methods:{beginCountDown:function(){var t,n=this,e=null!==(t=this.penaltyTime)&&void 0!==t?t:0;this.penaltyDisplay=e-Date.now(),clearInterval(o),o=setInterval((function(){n.penaltyDisplay=e-Date.now(),n.penaltyDisplay<=0&&clearInterval(o)}),1e3)},beginGlobalCountdown:function(){var t,n=this,e=null!==(t=this.beginTime)&&void 0!==t?t:0;this.countdown=e-Date.now(),clearInterval(l),l=setInterval((function(){n.countdown=e-Date.now(),n.countdown<=0&&clearInterval(l)}),1e3)},begin:function(){var time=Date.now()+36e5;localStorage.setItem("beginTime",String(time)),this.beginTime=time,this.beginGlobalCountdown()},handleSubmit:function(){console.log()},onPrevious:function(){this.index=Math.max(0,this.index-1)},onNext:function(){this.index=Math.min(this.index+1,this.questions.length-1),this.penaltyTime=0},handleNext:function(t){var n;t?(this.penaltyCounts[this.question.name]=(null!==(n=this.penaltyCounts[this.question.name])&&void 0!==n?n:0)+1,this.penaltyTime=Date.now()+1e4*this.penaltyCounts[this.question.name],this.beginCountDown()):this.$bvModal.show("modal")}}}),h=e(75),component=Object(h.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[t._v("\n    "+t._s(new Date(t.countdown).getMinutes()+":"+new Date(t.countdown).getSeconds())+"\n  ")]),t._v(" "),e("button",{on:{click:t.begin}},[t._v("Begin")]),t._v(" "),e("h1",[t._v(t._s(t.question.title))]),t._v(" "),e("img",{attrs:{src:t.question.url,alt:"question image"}}),t._v(" "),e("p",[t._v(t._s(t.question.description))]),t._v(" "),e("FormulateForm",{attrs:{"keep-model-data":!0},on:{submit:t.handleSubmit},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.hasErrors;return[e("FormulateInput",{key:t.question.name,attrs:{name:t.question.name,validation:"bail|required|number|matches:"+t.question.answer,disabled:t.timerActive,"error-behavior":"submit"}}),t._v(" "),e("div",[e("button",{attrs:{type:"button"},on:{click:t.onPrevious}},[t._v("Previous")]),t._v(" "),e("button",{attrs:{disabled:t.timerActive,type:"button"},on:{click:function(n){return t.handleNext(o)}}},[t._v("\n        Next\n      ")])])]}}]),model:{value:t.formValues,callback:function(n){t.formValues=n},expression:"formValues"}}),t._v(" "),e("b-modal",{attrs:{id:"modal",title:"You uncovered a clue","ok-only":!0},on:{ok:t.onNext}},[e("h3",[t._v("New Discovery: "+t._s(t.question.clue))]),t._v(" "),e("h4",[t._v("Your answer: "+t._s(t.formValues[t.question.name]))])]),t._v(" "),t.timerActive?e("p",[t._v("\n    "+t._s(new Date(t.penaltyDisplay).getMinutes()+":"+new Date(t.penaltyDisplay).getSeconds())+"\n  ")]):t._e(),t._v(" "),e("pre",[t._v(t._s(t.formValues))]),t._v(" "),e("p",[t._v(t._s(t.index))])],1)}),[],!1,null,null,null);n.default=component.exports}}]);