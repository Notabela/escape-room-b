(window.webpackJsonp=window.webpackJsonp||[]).push([[3,2],{276:function(t){t.exports=JSON.parse('{"questions":[{"title":"Test 1","name":"a","url":"https://picsum.photos/200/300","description":"This is the question description","answer":"25","clue":"J"},{"title":"Test 2","name":"b","url":"https://picsum.photos/200/300","description":"This is the 2nd question description","answer":"28","clue":"K"}]}')},277:function(t,e,n){"use strict";n.r(e);n(38),n(22);var o,l,r=n(9),c=n(276),d=r.default.extend({data:function(){return{formValues:{},questions:c.questions,index:0,countdown:null,penaltyCounts:{},beginTime:null,penaltyTime:null,penaltyDisplay:null}},computed:{question:function(){return this.questions[this.index]},timerActive:function(){return!!this.penaltyDisplay&&this.penaltyDisplay>0},countdownActive:function(){return!!this.countdown&&this.countdown>0}},mounted:function(){this.$nextTick((function(){var t=localStorage.getItem("beginTime");"number"==typeof t&&(this.beginTime=t,this.beginGlobalCountdown())}))},methods:{beginCountDown:function(){var t,e=this,n=null!==(t=this.penaltyTime)&&void 0!==t?t:0;this.penaltyDisplay=n-Date.now(),clearInterval(o),o=setInterval((function(){e.penaltyDisplay=n-Date.now(),e.penaltyDisplay<=0&&clearInterval(o)}),1e3)},beginGlobalCountdown:function(){var t,e=this,n=null!==(t=this.beginTime)&&void 0!==t?t:0;this.countdown=n-Date.now(),clearInterval(l),l=setInterval((function(){e.countdown=n-Date.now(),e.countdown<=0&&clearInterval(l)}),1e3)},begin:function(){var time=Date.now()+36e5;localStorage.setItem("beginTime",String(time)),this.beginTime=time,this.beginGlobalCountdown()},handleSubmit:function(){console.log()},onPrevious:function(){this.index=Math.max(0,this.index-1)},onNext:function(){this.index=Math.min(this.index+1,this.questions.length-1),this.penaltyTime=0},handleNext:function(t){var e;t?(this.penaltyCounts[this.question.name]=(null!==(e=this.penaltyCounts[this.question.name])&&void 0!==e?e:0)+1,this.penaltyTime=Date.now()+1e4*this.penaltyCounts[this.question.name],this.beginCountDown()):this.$bvModal.show("modal")}}}),m=n(75),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("\n    "+t._s(new Date(t.countdown).getMinutes()+":"+new Date(t.countdown).getSeconds())+"\n  ")]),t._v(" "),n("button",{on:{click:t.begin}},[t._v("Begin")]),t._v(" "),n("h1",[t._v(t._s(t.question.title))]),t._v(" "),n("img",{attrs:{src:t.question.url,alt:"question image"}}),t._v(" "),n("p",[t._v(t._s(t.question.description))]),t._v(" "),n("FormulateForm",{attrs:{"keep-model-data":!0},on:{submit:t.handleSubmit},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hasErrors;return[n("FormulateInput",{key:t.question.name,attrs:{name:t.question.name,validation:"bail|required|number|matches:"+t.question.answer,disabled:t.timerActive,"error-behavior":"submit"}}),t._v(" "),n("div",[n("button",{attrs:{type:"button"},on:{click:t.onPrevious}},[t._v("Previous")]),t._v(" "),n("button",{attrs:{disabled:t.timerActive,type:"button"},on:{click:function(e){return t.handleNext(o)}}},[t._v("\n        Next\n      ")])])]}}]),model:{value:t.formValues,callback:function(e){t.formValues=e},expression:"formValues"}}),t._v(" "),n("b-modal",{attrs:{id:"modal",title:"You uncovered a clue","ok-only":!0},on:{ok:t.onNext}},[n("h3",[t._v("New Discovery: "+t._s(t.question.clue))]),t._v(" "),n("h4",[t._v("Your answer: "+t._s(t.formValues[t.question.name]))])]),t._v(" "),t.timerActive?n("p",[t._v("\n    "+t._s(new Date(t.penaltyDisplay).getMinutes()+":"+new Date(t.penaltyDisplay).getSeconds())+"\n  ")]):t._e(),t._v(" "),n("pre",[t._v(t._s(t.formValues))]),t._v(" "),n("p",[t._v(t._s(t.index))])],1)}),[],!1,null,null,null);e.default=component.exports},278:function(t,e,n){"use strict";n.r(e);var o=n(9).default.extend({}),l=n(75),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("Home")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Home:n(277).default})}}]);